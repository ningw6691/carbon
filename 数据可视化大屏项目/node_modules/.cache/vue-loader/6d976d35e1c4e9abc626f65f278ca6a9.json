{"remainingRequest":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\src\\views\\indexs\\center-top.vue?vue&type=style&index=0&id=ca77f6be&lang=scss&scoped=true&","dependencies":[{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\src\\views\\indexs\\center-top.vue","mtime":1733221966125},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\css-loader\\dist\\cjs.js","mtime":1733221959342},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1733221965262},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\postcss-loader\\src\\index.js","mtime":1733221963509},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1733221964121},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1733221957955},{"path":"D:\\桌面\\双碳练习\\源码\\system-carbon-demo\\数据可视化大屏项目\\node_modules\\vue-loader\\lib\\index.js","mtime":1733221965260}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoudXAgew0KICB3aWR0aDogMTAwJTsNCiAgZGlzcGxheTogZmxleDsNCiAgZmxleC13cmFwOiB3cmFwOw0KICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsNCg0KICAuaXRlbSB7DQogICAgYm9yZGVyLXJhZGl1czogNnB4Ow0KICAgIHBhZGRpbmctdG9wOiA4cHg7DQogICAgbWFyZ2luLXRvcDogOHB4Ow0KICAgIHdpZHRoOiAzMiU7DQogICAgaGVpZ2h0OiA3MHB4Ow0KDQogICAgLmR2LWRpZy1mbG9wIHsNCiAgICAgIHdpZHRoOiAxNjBweDsNCiAgICAgIGhlaWdodDogMzBweDsNCiAgICB9DQogIH0NCn0NCg0KLmNlbnRlcm1hcCB7DQogIG1hcmdpbi1ib3R0b206IDMwcHg7DQoNCiAgLm1hcHRpdGxlIHsNCiAgICBoZWlnaHQ6IDYwcHg7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBwYWRkaW5nLXRvcDogMTBweDsNCiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94Ow0KDQogICAgLnRpdGxldGV4dCB7DQogICAgICBmb250LXNpemU6IDI4cHg7DQogICAgICBmb250LXdlaWdodDogOTAwOw0KICAgICAgbGV0dGVyLXNwYWNpbmc6IDZweDsNCiAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgNCiAgICAgICAgOTJkZWcsDQogICAgICAgICMwMDcyZmYgMCUsDQogICAgICAgICMwMGVhZmYgNDguODUyNTM5MDYyNSUsDQogICAgICAgICMwMWFhZmYgMTAwJQ0KICAgICAgKTsNCiAgICAgIC13ZWJraXQtYmFja2dyb3VuZC1jbGlwOiB0ZXh0Ow0KICAgICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50Ow0KICAgICAgbWFyZ2luOiAwIDEwcHg7DQogICAgfQ0KDQogICAgLnp1bywNCiAgICAueW91IHsNCiAgICAgIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOw0KICAgICAgd2lkdGg6IDI5cHg7DQogICAgICBoZWlnaHQ6IDIwcHg7DQogICAgICBtYXJnaW4tdG9wOiA4cHg7DQogICAgfQ0KDQogICAgLnp1byB7DQogICAgICBiYWNrZ3JvdW5kOiB1cmwoIi4uLy4uL2Fzc2V0cy9pbWcveGllenVvLnBuZyIpIG5vLXJlcGVhdDsNCiAgICB9DQoNCiAgICAueW91IHsNCiAgICAgIGJhY2tncm91bmQ6IHVybCgiLi4vLi4vYXNzZXRzL2ltZy94aWV5b3UucG5nIikgbm8tcmVwZWF0Ow0KICAgIH0NCiAgfQ0KDQogIC5tYXB3cmFwIHsNCiAgICBoZWlnaHQ6IDU0OHB4Ow0KICAgIHdpZHRoOiAxMDAlOw0KICAgIC8vIHBhZGRpbmc6IDAgMCAxMHB4IDA7DQogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIH0NCn0NCg0KJGJveC1oZWlnaHQ6IDQxMHB4Ow0KJGJveC13aWR0aDogMTAwJTsNCg0KI2NlbnRlcl9yaWdodDEgew0KICBwYWRkaW5nOiAxNnB4Ow0KICBwYWRkaW5nLXRvcDogMjBweDsNCiAgaGVpZ2h0OiAkYm94LWhlaWdodDsNCiAgd2lkdGg6ICRib3gtd2lkdGg7DQogIGJvcmRlci1yYWRpdXM6IDVweDsNCg0KICAuYmdfY29sb3JfYmxhY2sgew0KICAgIGhlaWdodDogJGJveC1oZWlnaHQgLSAzMHB4Ow0KICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogIH0NCg0KICAudGV4dCB7DQogICAgY29sb3I6ICNjM2NiZGU7DQogIH0NCg0KICAuYm9keV9ib3ggew0KICAgIGJvcmRlci1yYWRpdXM6IDEwcHg7DQogICAgb3ZlcmZsb3c6IGhpZGRlbjsNCg0KICAgIC5kdl9zY3JfYm9hcmQgew0KICAgICAgd2lkdGg6IDk1JTsNCiAgICAgIGhlaWdodDogMzAwcHg7DQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["center-top.vue"],"names":[],"mappings":";AAoRA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"center-top.vue","sourceRoot":"src/views/indexs","sourcesContent":["<template>\r\n  <div class=\"centermap\">\r\n    <div class=\"maptitle\">\r\n      <div class=\"zuo\"></div>\r\n      <span class=\"titletext\">{{ maptitle }}</span>\r\n      <div class=\"you\"></div>\r\n    </div>\r\n    <div class=\"mapwrap\">\r\n      <dv-border-box-13>\r\n        <div class=\"up\">\r\n          <div class=\"bg_color_black item\" v-for=\"item in titleItem\" :key=\"item.title\">\r\n            <p class=\"rdx-m-l-30 rdx-m-t-10\">{{ item.title }}</p>\r\n            <div class=\"rdx-m-l-30 rdx-m-t-10\">\r\n              <dv-digital-flop class=\"dv-dig-flop\" :config=\"item.number\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"bg_color_black item\">\r\n            <p class=\"rdx-m-l-30 rdx-m-t-10\">{{ yearEmissionCfg.title }}</p>\r\n            <div class=\"rdx-m-l-30 rdx-m-t-10\">\r\n              <dv-digital-flop class=\"dv-dig-flop\" :config=\"yearEmissionCfg.number\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"bg_color_black item\">\r\n            <p class=\"rdx-m-l-30 rdx-m-t-10\">{{ monthEmissionCfg.title }}</p>\r\n            <div class=\"rdx-m-l-30 rdx-m-t-10\">\r\n              <dv-digital-flop class=\"dv-dig-flop\" :config=\"monthEmissionCfg.number\" />\r\n            </div>\r\n          </div>\r\n          <div class=\"bg_color_black item\">\r\n            <p class=\"rdx-m-l-30 rdx-m-t-10\">{{ todayEmissionCfg.title }}</p>\r\n            <div class=\"rdx-m-l-30 rdx-m-t-10\">\r\n              <dv-digital-flop class=\"dv-dig-flop\" :config=\"todayEmissionCfg.number\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div id=\"center_right1\">\r\n          <div class=\"bg_color_black\">\r\n            <div class=\"d-flex rdx-p-t-2 rdx-p-l-2\">\r\n              <div class=\"d-flex\">\r\n                <span>碳排放排行榜</span>\r\n              </div>\r\n            </div>\r\n            <div class=\"rdx-m-t-10 body_box\">\r\n              <dv-scroll-board class=\"dv_scr_board\" :config=\"config\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </dv-border-box-13>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  currentGET\r\n} from 'api/modules'\r\nexport default {\r\n  data() {\r\n    return {\r\n      maptitle: \"数据总览\",\r\n      pageflag: true,\r\n      timer: null,\r\n      echartBindClick: false,\r\n      config: {\r\n\r\n      },\r\n      titleItem: [{\r\n        title: '今年累计销售额',\r\n        number: {\r\n          number: [0],\r\n          toFixed: 2,\r\n          textAlign: 'left',\r\n          content: '{nt}',\r\n          style: {\r\n            fontSize: 26\r\n          }\r\n        }\r\n      },\r\n      {\r\n        title: '本月累计销售额',\r\n        number: {\r\n          number: [0],\r\n          toFixed: 2,\r\n          textAlign: 'left',\r\n          content: '{nt}',\r\n          style: {\r\n            fontSize: 26\r\n          }\r\n        }\r\n      },\r\n      {\r\n        title: '今日累计销售额',\r\n        number: {\r\n          number: [0],\r\n          toFixed: 2,\r\n          textAlign: 'left',\r\n          content: '{nt}',\r\n          style: {\r\n            fontSize: 26\r\n          }\r\n        }\r\n      },\r\n      ],\r\n      todayEmissionCfg: {},\r\n      monthEmissionCfg: {},\r\n      yearEmissionCfg: {},\r\n    };\r\n  },\r\n  created() {\r\n    this.getData();\r\n  },\r\n  mounted() {\r\n\r\n  },\r\n  beforeDestroy() {\r\n    this.clearData()\r\n  },\r\n  methods: {\r\n    //清理图标数据\r\n    clearData() {\r\n      if (this.timer) {\r\n        clearInterval(this.timer)\r\n        this.timer = null\r\n      }\r\n    },\r\n    //获取图标数据\r\n    getData() {\r\n      this.pageflag = true;\r\n      this.getSaleAmount();\r\n      this.getCarbonEmission();\r\n      this.getEquipmentRank();\r\n      this.switper();\r\n    },\r\n    //获取销售额\r\n    getSaleAmount() {\r\n      currentGET('big12').then(res => {\r\n        if (res.success) {\r\n          let list = [{\r\n            title: '今年累计销售额',\r\n            number: {\r\n              number: [res.data.yearTotal],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          },\r\n          {\r\n            title: '本月累计销售额',\r\n            number: {\r\n              number: [res.data.monthTotal],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          },\r\n          {\r\n            title: '今日累计销售额',\r\n            number: {\r\n              number: [res.data.todayTotal],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          },\r\n          ];\r\n          this.titleItem = list;\r\n        }\r\n      })\r\n    },\r\n    //获取碳排放\r\n    getCarbonEmission() {\r\n      currentGET('big8').then(res => {\r\n        let rows = res.rows;\r\n        if (rows && rows.length > 0) {\r\n          this.todayEmissionCfg = {\r\n            title: '今日累计碳排放',\r\n            number: {\r\n              number: [rows[0].totalCarbonEmission],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          };\r\n        }\r\n      });\r\n      //获取本月累计碳排放\r\n      currentGET('big9').then(res => {\r\n        let rows = res.rows;\r\n        if (rows && rows.length > 0) {\r\n          this.monthEmissionCfg = {\r\n            title: '本月累计碳排放',\r\n            number: {\r\n              number: [rows[0].totalCarbonEmission],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          };\r\n        }\r\n      });\r\n      //获取本年累计碳排放\r\n      currentGET('big10').then(res => {\r\n        let rows = res.rows;\r\n        if (rows && rows.length > 0) {\r\n          this.yearEmissionCfg = {\r\n            title: '本年累计碳排放',\r\n            number: {\r\n              number: [rows[0].totalCarbonEmission],\r\n              toFixed: 2,\r\n              textAlign: 'left',\r\n              content: '{nt}',\r\n              style: {\r\n                fontSize: 26\r\n              }\r\n            }\r\n          };\r\n        }\r\n      });\r\n    },\r\n    //获取设备排行\r\n    getEquipmentRank() {\r\n      currentGET('big11', {\r\n        pageNum: 1,\r\n        pageSize: 10,\r\n      }).then(res => {\r\n        this.config = {\r\n          header: ['设备', '生产数量', '碳排放'],\r\n          data: [],\r\n          rowNum: 7, //表格行数\r\n          headerHeight: 35,\r\n          headerBGC: '#0f1325', //表头\r\n          oddRowBGC: '#0f1325', //奇数行\r\n          evenRowBGC: '#171c33', //偶数行\r\n          index: true,\r\n          columnWidth: [150],\r\n          align: ['center']\r\n        };\r\n        let list = res.rows;\r\n        list.forEach(eq => {\r\n          this.config.data.push([\r\n            eq.equipmentName,\r\n            eq.productQuantity,\r\n            eq.totalCarbonEmission.toFixed(2),\r\n          ])\r\n        });\r\n      })\r\n    },\r\n    //轮询\r\n    switper() {\r\n      if (this.timer) {\r\n        return\r\n      }\r\n      let looper = (a) => {\r\n        this.getData()\r\n      };\r\n      this.timer = setInterval(looper, this.$store.state.setting.echartsAutoTime);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang='scss' scoped>\r\n.up {\r\n  width: 100%;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: space-around;\r\n\r\n  .item {\r\n    border-radius: 6px;\r\n    padding-top: 8px;\r\n    margin-top: 8px;\r\n    width: 32%;\r\n    height: 70px;\r\n\r\n    .dv-dig-flop {\r\n      width: 160px;\r\n      height: 30px;\r\n    }\r\n  }\r\n}\r\n\r\n.centermap {\r\n  margin-bottom: 30px;\r\n\r\n  .maptitle {\r\n    height: 60px;\r\n    display: flex;\r\n    justify-content: center;\r\n    padding-top: 10px;\r\n    box-sizing: border-box;\r\n\r\n    .titletext {\r\n      font-size: 28px;\r\n      font-weight: 900;\r\n      letter-spacing: 6px;\r\n      background: linear-gradient(\r\n        92deg,\r\n        #0072ff 0%,\r\n        #00eaff 48.8525390625%,\r\n        #01aaff 100%\r\n      );\r\n      -webkit-background-clip: text;\r\n      -webkit-text-fill-color: transparent;\r\n      margin: 0 10px;\r\n    }\r\n\r\n    .zuo,\r\n    .you {\r\n      background-size: 100% 100%;\r\n      width: 29px;\r\n      height: 20px;\r\n      margin-top: 8px;\r\n    }\r\n\r\n    .zuo {\r\n      background: url(\"../../assets/img/xiezuo.png\") no-repeat;\r\n    }\r\n\r\n    .you {\r\n      background: url(\"../../assets/img/xieyou.png\") no-repeat;\r\n    }\r\n  }\r\n\r\n  .mapwrap {\r\n    height: 548px;\r\n    width: 100%;\r\n    // padding: 0 0 10px 0;\r\n    box-sizing: border-box;\r\n    position: relative;\r\n  }\r\n}\r\n\r\n$box-height: 410px;\r\n$box-width: 100%;\r\n\r\n#center_right1 {\r\n  padding: 16px;\r\n  padding-top: 20px;\r\n  height: $box-height;\r\n  width: $box-width;\r\n  border-radius: 5px;\r\n\r\n  .bg_color_black {\r\n    height: $box-height - 30px;\r\n    border-radius: 10px;\r\n  }\r\n\r\n  .text {\r\n    color: #c3cbde;\r\n  }\r\n\r\n  .body_box {\r\n    border-radius: 10px;\r\n    overflow: hidden;\r\n\r\n    .dv_scr_board {\r\n      width: 95%;\r\n      height: 300px;\r\n    }\r\n  }\r\n}\r\n</style>"]}]}